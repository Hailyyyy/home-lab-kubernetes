<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Lab K3s Cluster Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #ffffff;
            padding: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .container {
            width: 1200px;
            background: white;
            border: 3px solid #000;
            padding: 30px;
        }
        
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            font-size: 14px;
            margin-bottom: 30px;
            color: #333;
        }
        
        .layer {
            margin-bottom: 20px;
            border: 2px solid #000;
            padding: 20px;
        }
        
        .layer-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            border-bottom: 2px solid #000;
            padding-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .layer-icon {
            margin-right: 10px;
            font-size: 20px;
        }
        
        .components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .component {
            border: 2px solid #000;
            padding: 15px;
            background: #f9f9f9;
        }
        
        .component-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .component-detail {
            font-size: 12px;
            line-height: 1.6;
            color: #333;
        }
        
        .component-detail::before {
            content: "â€¢ ";
        }
        
        .flow-arrow {
            text-align: center;
            font-size: 24px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .legend {
            margin-top: 20px;
            border: 2px solid #000;
            padding: 15px;
            background: #f0f0f0;
        }
        
        .legend-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 12px;
        }
        
        .legend-icon {
            margin-right: 10px;
            font-weight: bold;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        
        .tech-item {
            border: 2px solid #000;
            padding: 10px;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            background: white;
        }
        
        @media print {
            body {
                padding: 0;
            }
            .container {
                border: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Home Lab / K3s Cluster Architecture</div>
        <div class="subtitle">Proxmox VE ê¸°ë°˜ Kubernetes í´ëŸ¬ìŠ¤í„° (2025.12 ~ í˜„ì¬)</div>
        
        <!-- Infrastructure Layer -->
        <div class="layer">
            <div class="layer-title">
                <span class="layer-icon">ğŸ–¥ï¸</span>
                Infrastructure Layer
            </div>
            <div class="components">
                <div class="component">
                    <div class="component-title">Proxmox VE Host</div>
                    <div class="component-detail">ì €ì‚¬ì–‘ ë…¸íŠ¸ë¶ í™œìš©</div>
                    <div class="component-detail">ê°€ìƒí™” í™˜ê²½ ì œê³µ</div>
                    <div class="component-detail">VM ê´€ë¦¬ ë° ëª¨ë‹ˆí„°ë§</div>
                </div>
                <div class="component">
                    <div class="component-title">Network</div>
                    <div class="component-detail">ê¸°ê°€ë¹„íŠ¸ ìŠ¤ìœ„ì¹˜</div>
                    <div class="component-detail">DHCP Reservation (ê³ ì • IP)</div>
                    <div class="component-detail">ìœ ì„ ë§(eth0) ì „ìš© í†µì‹ </div>
                </div>
                <div class="component">
                    <div class="component-title">Storage</div>
                    <div class="component-detail">Local-path provisioner</div>
                    <div class="component-detail">ë™ì  ë³¼ë¥¨ í”„ë¡œë¹„ì €ë‹</div>
                </div>
            </div>
        </div>
        
        <div class="flow-arrow">â†“</div>
        
        <!-- Kubernetes Layer -->
        <div class="layer">
            <div class="layer-title">
                <span class="layer-icon">â˜¸ï¸</span>
                Kubernetes Cluster (K3s v1.33.6)
            </div>
            <div class="components">
                <div class="component">
                    <div class="component-title">Control Plane</div>
                    <div class="component-detail">k8s-cp-01 (192.168.0.61)</div>
                    <div class="component-detail">Ubuntu 24.04.3 LTS</div>
                    <div class="component-detail">ARM64 (Raspberry Pi 4)</div>
                </div>
                <div class="component">
                    <div class="component-title">Worker Node 1</div>
                    <div class="component-detail">k8s-wk-01 (192.168.0.62)</div>
                    <div class="component-detail">Ubuntu 24.04.3 LTS</div>
                    <div class="component-detail">ARM64 (Raspberry Pi 4)</div>
                </div>
                <div class="component">
                    <div class="component-title">Worker Node 2</div>
                    <div class="component-detail">k8s-wk-02 (192.168.0.63)</div>
                    <div class="component-detail">Ubuntu 24.04.3 LTS</div>
                    <div class="component-detail">í™•ì¥ëœ ë…¸ë“œ</div>
                </div>
            </div>
        </div>
        
        <div class="flow-arrow">â†“</div>
        
        <!-- Application Layer -->
        <div class="layer">
            <div class="layer-title">
                <span class="layer-icon">ğŸ“Š</span>
                Observability & Monitoring
            </div>
            <div class="components">
                <div class="component">
                    <div class="component-title">Prometheus</div>
                    <div class="component-detail">ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì €ì¥</div>
                    <div class="component-detail">ë°ì´í„° ë³´ì¡´ 2ì¼</div>
                    <div class="component-detail">SSH Port Forwarding ì ‘ê·¼</div>
                </div>
                <div class="component">
                    <div class="component-title">Grafana</div>
                    <div class="component-detail">ë©”íŠ¸ë¦­ ì‹œê°í™”</div>
                    <div class="component-detail">Kubernetes ëŒ€ì‹œë³´ë“œ</div>
                    <div class="component-detail">SSH Port Forwarding ì ‘ê·¼</div>
                </div>
                <div class="component">
                    <div class="component-title">kube-state-metrics</div>
                    <div class="component-detail">í´ëŸ¬ìŠ¤í„° ìƒíƒœ ë©”íŠ¸ë¦­</div>
                    <div class="component-detail">OOM ì´ë²¤íŠ¸ ì¶”ì </div>
                </div>
            </div>
        </div>
        
        <div class="flow-arrow">â†“</div>
        
        <!-- Automation Layer -->
        <div class="layer">
            <div class="layer-title">
                <span class="layer-icon">âš™ï¸</span>
                Automation & IaC
            </div>
            <div class="components">
                <div class="component">
                    <div class="component-title">Ansible</div>
                    <div class="component-detail">Infrastructure as Code</div>
                    <div class="component-detail">inventory, roles, playbooks</div>
                    <div class="component-detail">ë©±ë“±ì„± ë³´ì¥ (--check)</div>
                </div>
                <div class="component">
                    <div class="component-title">GitHub Actions</div>
                    <div class="component-detail">CI Pipeline</div>
                    <div class="component-detail">Playbook ë¬¸ë²• ê²€ì¦</div>
                    <div class="component-detail">ìë™í™”ëœ í…ŒìŠ¤íŠ¸</div>
                </div>
                <div class="component">
                    <div class="component-title">WireGuard VPN</div>
                    <div class="component-detail">ì›ê²© ì ‘ê·¼ ë³´ì•ˆ</div>
                    <div class="component-detail">ë‚´ë¶€ë§ ê²©ë¦¬</div>
                </div>
            </div>
        </div>
        
        <!-- Tech Stack -->
        <div class="legend">
            <div class="legend-title">ğŸ› ï¸ Technology Stack</div>
            <div class="tech-stack">
                <div class="tech-item">K3s v1.33.6</div>
                <div class="tech-item">Ansible</div>
                <div class="tech-item">Prometheus</div>
                <div class="tech-item">Grafana</div>
                <div class="tech-item">Ubuntu 24.04</div>
                <div class="tech-item">Proxmox VE</div>
                <div class="tech-item">GitHub Actions</div>
                <div class="tech-item">WireGuard</div>
                <div class="tech-item">ARM64</div>
                <div class="tech-item">Raspberry Pi</div>
                <div class="tech-item">SSH</div>
                <div class="tech-item">Helm</div>
            </div>
        </div>
        
        <!-- Key Features -->
        <div class="legend" style="margin-top: 15px;">
            <div class="legend-title">âœ¨ ì£¼ìš” íŠ¹ì§• ë° ì„±ê³¼</div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ”§</span>
                DTB íŒŒë¼ë¯¸í„° ì˜¤ì—¼ìœ¼ë¡œ ì¸í•œ cgroup v2 ì´ìŠˆ í•´ê²° (cmdline override)
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸŒ</span>
                wlan0 ë¹„í™œì„±í™”ë¥¼ í†µí•œ ë„¤íŠ¸ì›Œí¬ ì•ˆì •í™” (ìœ ì„  ì „ìš© í†µì‹ )
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ’¥</span>
                OOM ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤ ì¬í˜„ ë° ìë™ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜ ê²€ì¦
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ“</span>
                ì²´ê³„ì ì¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë¬¸ì„œí™” ë° ìš´ì˜ ë…¸í•˜ìš° ì¶•ì 
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ”’</span>
                ë³´ì•ˆ ê³ ë ¤ ì„¤ê³„ (Ingress/NodePort ë¯¸ì‚¬ìš©, SSH Port Forwarding)
            </div>
            <div class="legend-item">
                <span class="legend-icon">ğŸ”„</span>
                IaC ê¸°ë°˜ ì¬í˜„ ê°€ëŠ¥í•œ ì¸í”„ë¼ êµ¬ì„± (ë©±ë“±ì„± ë³´ì¥)
            </div>
        </div>
    </div>
</body>
</html>
